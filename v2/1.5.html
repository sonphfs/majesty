<html>
<head>
    <title>Calculator</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container">
<h1>People of Vue</h1>
    <ul class="list-group">
        <li v-for="candidate in candidates" class="list-group-item">
            {{candidate.name}} : {{candidate.votes}}
            <button class="btn btn-default" @click="candidate.votes++">Vote</button>
        </li>
    </ul>
    <h2>Our mayor is {{mayor.name}}!</h2>
</div>
<script src = "../js/vue.min.js"></script>
<script>
const app = new Vue({
    el: '.container',
    data: {
        candidates: [
            {name: 'Mr.Black', votes: 146},
            {name: 'Mr.Pink', votes: 145},
            {name: 'Mr.White', votes: 135},
            {name: 'Mr.Brown', votes: 130},
        ],
    },
    computed: {
        mayor: function(){
            const candidates = this.candidates.slice();

            const candidatesSorted = candidates.sort(function (a, b) {
                return b.votes - a.votes;
            });
            return candidatesSorted[0];
        }
    },
    methods: {
        clear: function(){
            this.candidates = this.candidates.map(function(element){
                element.votes = 0;
                return element;
            });
        }
    }
});
</script>
</body>
</html>